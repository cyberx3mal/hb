:root{--bg-white: #ffffff;--soft-pink: #ffd9e8;--muted-pink: #ffb6c9;--soft-lilac: #efe6ff;--accent: #c78cff;--text: #222430;--muted-text: #4a4a5a;--card-shadow: 0 6px 18px rgba(199,140,255,.12);--bg-grad-1: var(--soft-lilac);--bg-grad-2: #ffffff;--card-1: var(--bg-white);--card-2: #ffffff;--btn-bg-1: #ffffff;--btn-bg-2: #ffffff;--border-color: rgba(74,74,90,.06);--phone-max-width: 420px}[data-theme=dark]{--bg-white: #181325;--soft-pink: #3a2034;--muted-pink: #ff8fbd;--soft-lilac: #1b1430;--accent: #e5b8ff;--text: #f4f1ff;--muted-text: #c8c1ee;--card-shadow: 0 10px 24px rgba(0,0,0,.35);--bg-grad-1: #120f1a;--bg-grad-2: #0d0a13;--card-1: #1b1430;--card-2: #181325;--btn-bg-1: #201a31;--btn-bg-2: #241c38;--border-color: rgba(255,255,255,.08)}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;background:linear-gradient(180deg,var(--bg-grad-1) 0%,var(--bg-grad-2) 40%);color:var(--text);margin:0;padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);min-height:100svh;-webkit-font-smoothing:antialiased}#root{min-height:100svh;display:flex;align-items:center;justify-content:center}.app{width:100%;max-width:var(--phone-max-width);margin:0 auto;padding:28px 18px}header{display:flex;align-items:center;gap:12px;margin-bottom:18px}header h1{margin:0;font-size:1.6rem;color:var(--accent);letter-spacing:.2px}header .sub{color:var(--muted-text);font-size:.9rem}header button{background:transparent;border:1px solid var(--border-color);padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--text)}.step{background:linear-gradient(180deg,var(--card-1) 0%,var(--card-2) 100%);padding:20px;border-radius:14px;box-shadow:var(--card-shadow);border:1px solid var(--border-color)}.options button{display:block;width:100%;text-align:left;margin:10px 0;padding:12px 14px;border-radius:10px;border:1px solid var(--border-color);background:linear-gradient(90deg,var(--btn-bg-1),var(--btn-bg-2));color:var(--text);cursor:pointer;transition:transform .12s ease,box-shadow .12s ease;min-height:44px;font-size:16px;line-height:1.3;white-space:normal;word-break:break-word}.options button:hover{transform:translateY(-2px);box-shadow:0 6px 18px #0000000f}.options button.sel{background:linear-gradient(90deg,var(--soft-pink),#fff);border-color:var(--muted-pink);box-shadow:0 6px 18px #ffb6c91f}.options button.ok{outline:3px solid #28a745}.options button.wrong{outline:3px solid #c0392b}.shake{animation:shake .4s ease}@keyframes shake{10%,90%{transform:translate(-1px)}20%,80%{transform:translate(2px)}30%,50%,70%{transform:translate(-4px)}40%,60%{transform:translate(4px)}}.actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}.actions button{background:linear-gradient(90deg,var(--accent),#ff8fe6);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;box-shadow:0 6px 14px #a770ff2e;font-weight:600;min-height:44px;font-size:16px}.actions button:active{transform:translateY(1px)}.password-screen{max-width:var(--phone-max-width);margin:0 auto;padding:24px;border-radius:14px;background:linear-gradient(180deg,var(--card-1),var(--soft-pink));box-shadow:var(--card-shadow);border:1px solid var(--border-color)}.password-screen input{width:100%;max-width:100%;display:block;padding:12px 14px;border-radius:10px;border:1px solid rgba(74,74,90,.18);margin-top:10px;min-height:44px;font-size:16px;background:var(--card-2);color:var(--text)}.password-screen .login-title{margin:0 0 8px;font-size:1.25rem;color:var(--text)}.password-screen .login-question{color:var(--muted-text);margin-bottom:8px}.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}.step input,.step select,.step textarea{width:100%;max-width:100%;display:block;padding:12px 14px;border-radius:10px;border:1px solid var(--border-color);min-height:44px;font-size:16px;background:var(--card-2);color:var(--text)}.puzzle-grid{background:transparent;display:block;margin:14px auto;border-radius:8px;width:100%;max-width:360px;aspect-ratio:1/1;position:relative}.puzzle-tile{box-sizing:border-box}.puzzle-tile.sel{outline:3px solid rgba(199,140,255,.9);outline-offset:-3px}.puzzle-grid.solved{outline:3px solid #28a745;outline-offset:3px;border-radius:12px}.success{margin-top:10px;color:#28a745;font-weight:700;animation:fadeUp .6s ease both}.confetti-canvas{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}@keyframes fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.puzzle-banner{position:absolute;inset:auto 10px 10px auto;background:#28a745e6;color:#fff;padding:6px 10px;border-radius:8px;font-weight:700;z-index:2}.complete-btn{position:absolute;right:10px;top:10px;background:linear-gradient(90deg,#28a745,#47d364);color:#fff;border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;z-index:2;box-shadow:0 6px 14px #28a74540}.image-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin:12px 0}.image-tile{display:block;border:1px solid var(--border-color);border-radius:10px;overflow:hidden;padding:0;background:transparent;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease}.image-tile:hover{transform:translateY(-2px);box-shadow:0 6px 18px #0000001a}.image-tile.sel{outline:3px solid rgba(199,140,255,.9);outline-offset:2px}.image-tile.ok{outline:3px solid #28a745;outline-offset:2px}.image-tile img{display:block;width:100%;height:auto}.error{color:#b00020;margin-top:8px}.nav{display:flex;justify-content:space-between;margin-top:18px}.nav button{background:transparent;border:1px solid var(--border-color);padding:12px 14px;border-radius:10px;cursor:pointer;color:var(--text);min-height:44px;font-size:16px}.progress{margin-top:12px;text-align:center}.progress small{background:linear-gradient(90deg,var(--soft-pink),var(--soft-lilac));padding:6px 10px;border-radius:999px;color:var(--text);font-weight:600}small,.hint{color:var(--muted-text);font-size:.9rem}.toast{margin-top:10px;padding:10px 12px;border-radius:10px;font-weight:600}.toast.success{background:#28a74526;color:#2ecc71;border:1px solid rgba(40,167,69,.35)}.toast.error{background:#c0392b26;color:#e74c3c;border:1px solid rgba(192,57,43,.35)}.step input.wrong{border-color:#c0392b;box-shadow:0 0 0 3px #c0392b33}img{max-width:100%;height:auto;border-radius:10px}button:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{outline:2px solid var(--accent);outline-offset:2px}button:disabled{opacity:.7;cursor:not-allowed}@media (max-width:520px){.app{padding:18px}header h1{font-size:1.3rem}.step{padding:16px}}
